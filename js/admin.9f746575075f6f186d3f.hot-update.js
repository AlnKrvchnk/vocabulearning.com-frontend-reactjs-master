/*! For license information please see admin.9f746575075f6f186d3f.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateclient("admin",{"./src/admin/components/lemma/LemmaTableComponent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ LemmaTableComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../functions */ "./src/functions.js");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");\n/* harmony import */ var react_slick__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-slick */ "./node_modules/react-slick/lib/index.js");\n/* harmony import */ var _global_components_layout_ToolTip_ToolTip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global-components/layout/ToolTip/ToolTip */ "./src/global-components/layout/ToolTip/ToolTip.js");\n/* harmony import */ var _config_API__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../config/API */ "./src/config/API.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\nvar LemmaTableComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(LemmaTableComponent, _React$Component);\n  var _super = _createSuper(LemmaTableComponent);\n  function LemmaTableComponent(props) {\n    var _this;\n    _classCallCheck(this, LemmaTableComponent);\n    _this = _super.call(this, props);\n    _this.state = {\n      from_slice: props.from_slice || 0,\n      to_slice: props.to_slice || 1,\n      filters: {},\n      active_phrases: {},\n      archive_view: false,\n      all_checked: false\n    };\n    _this.paginate = _this.paginate.bind(_assertThisInitialized(_this));\n    _this.onSorting = _this.onSorting.bind(_assertThisInitialized(_this));\n    _this.sort_lemma = _this.sort_lemma.bind(_assertThisInitialized(_this));\n    _this.do_active_phrases = _this.do_active_phrases.bind(_assertThisInitialized(_this));\n    _this.getAllCheckedValue = _this.getAllCheckedValue.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(LemmaTableComponent, [{\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      var trigger_show_heads = document.getElementById(\'lemma_show_heads\');\n      if (trigger_show_heads) trigger_show_heads.click();\n    }\n  }, {\n    key: "do_active_phrases",\n    value: function do_active_phrases(cb) {\n      var vals = Object.values(this.state.active_phrases);\n      if (vals.length) {\n        var last_item = vals[vals.length - 1];\n        this.setState(function () {\n          return {\n            active_phrases: {},\n            all_checked: false\n          };\n        }, function () {\n          vals.forEach(function (item) {\n            cb(item, last_item);\n          });\n        });\n      }\n    }\n  }, {\n    key: "sort_lemma",\n    value: function sort_lemma(slice_array) {\n      var filters = this.state.filters;\n      if (Object.values(slice_array).length) {\n        for (var i in filters) {\n          slice_array.sort((0,_functions__WEBPACK_IMPORTED_MODULE_1__.dynamicSort)(i, filters[i]));\n        }\n      }\n      return slice_array;\n    }\n  }, {\n    key: "paginate",\n    value: function paginate(from_slice) {\n      var save_local = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var to_slice = from_slice + 1;\n      this.state.to_slice = to_slice;\n      this.state.from_slice = from_slice;\n      this.setState(function () {\n        return {\n          from_slice: from_slice,\n          to_slice: to_slice\n        };\n      });\n      if (save_local) {\n        var data_to_save = {\n          from_slice: from_slice,\n          currentGlav: this.props.currentGlav,\n          course_id: this.props.course_id,\n          currentPage: location.hash\n        };\n        (0,_functions__WEBPACK_IMPORTED_MODULE_1__.localSave)(\'lemma_page\' + this.props.course_id, JSON.stringify(data_to_save));\n\n        // Обновляем страницу с переходом на следущую (сохраняем главу и страницу пагинации)\n        location.reload();\n      }\n    }\n  }, {\n    key: "onSorting",\n    value: function onSorting(data) {\n      var clear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var object_to_state = {};\n      if (!clear) {\n        var currentFD = this.state.filters[data] !== undefined ? !this.state.filters[data] : false;\n        object_to_state[data] = currentFD;\n      }\n      this.setState(function () {\n        return {\n          filters: object_to_state\n        };\n      });\n    }\n\n    // Если на конкретной странице выделены абсолютно все слова\n  }, {\n    key: "getAllCheckedValue",\n    value: function getAllCheckedValue(slice_data) {\n      var _this2 = this;\n      var slice_prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var all_checked_value = slice_data.filter(function (item, i) {\n        var word_index = i + slice_prop;\n        var id_active_word = "".concat(_this2.props.id, "|").concat(word_index, "|").concat(i, "|").concat(item.head_id);\n        return _this2.state.active_phrases[id_active_word] != undefined;\n      });\n      if (all_checked_value.length === slice_data.length && slice_data.length !== 0 && all_checked_value.length !== 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this3 = this;\n      var _this$props = this.props,\n        onDoPhrase = _this$props.onDoPhrase,\n        onUpdatePhrase = _this$props.onUpdatePhrase,\n        onDeleteLemma = _this$props.onDeleteLemma,\n        data = _this$props.data,\n        id = _this$props.id,\n        indexLemma = _this$props.indexLemma,\n        _this$props$default_s = _this$props.default_slice_value,\n        default_slice_value = _this$props$default_s === void 0 ? 10 : _this$props$default_s,\n        onSetActive = _this$props.onSetActive,\n        book_path = _this$props.book_path;\n      var _this$state = this.state,\n        from_slice = _this$state.from_slice,\n        to_slice = _this$state.to_slice;\n\n      // table info\n      var table_id = \'tb_lemm_\' + Math.floor(Math.random() * 9999);\n      var onSearch = function onSearch(e) {\n        var val = e.target.value.toUpperCase();\n        $("#".concat(table_id, " .lemma__word")).each(function () {\n          if ($(this).text().toUpperCase().match(eval(\'/\' + val + \'/g\')) == null) {\n            $(this).parent().hide();\n          } else {\n            $(this).parent().show();\n          }\n        });\n      };\n\n      // pagination\n      var COUNT_SYMB_PAG = Math.floor(data.length / default_slice_value);\n      var showPagination = function showPagination() {\n        var alls = [];\n        var to_slice_val = to_slice + default_slice_value / 2,\n          minus_val = to_slice_val - COUNT_SYMB_PAG - 1;\n        minus_val = minus_val < 0 ? 0 : minus_val;\n        to_slice_val -= minus_val > 0 ? minus_val : 0;\n        var _loop = function _loop(i) {\n          if (i < 0) return "continue";\n          alls.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n            href: "",\n            key: i,\n            className: "pagination__item ".concat(_this3.state.from_slice == i ? \'pagination__item--active\' : \'\'),\n            onClick: function onClick(e) {\n              e.preventDefault();\n              _this3.paginate(i);\n            }\n          }, i + 1));\n        };\n        for (var i = from_slice - minus_val; i < to_slice_val; i++) {\n          var _ret = _loop(i);\n          if (_ret === "continue") continue;\n        }\n        return alls;\n      };\n      var slice_data = data.slice(from_slice * default_slice_value, to_slice * default_slice_value);\n      if (data.length) {\n        if (this.state.archive_view) {\n          if (!$(\'body\').find(\'.lm-style\').length) $(\'body\').append(\'<style class="lm-style">.lemma__table > form > table > tbody > tr:not(.lemma-archived){display:none;}</style>\');\n        } else {\n          $(\'.lm-style\').remove();\n          slice_data = this.sort_lemma(slice_data);\n        }\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table",\n        "data-id": id\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__top"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__item"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__selected"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E ", Object.values(this.state.active_phrases).length, " \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__phrases-selector"\n      }, "\\u0421\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C \\u0441 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u043C\\u0438", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("i", {\n        className: "material-icons"\n      }, "expand_more"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__phr-control__btns"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.do_active_phrases(function (item, last_item) {\n            return onDoPhrase(item.id, item.word_index, item.j, item.head_id, \'ADD_TO_COURSE\', item.elem, item, last_item);\n          });\n        }\n      }, "\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u0443\\u0440\\u0441"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.do_active_phrases(function (item, last_item) {\n            return onDoPhrase(item.id, item.word_index, item.j, item.head_id, \'ARCHIVE\', item.elem, item, last_item);\n          });\n        }\n      }, "\\u0410\\u0440\\u0445\\u0438\\u0432\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.do_active_phrases(function (item, last_item) {\n            return onDoPhrase(item.id, item.word_index, item.j, item.head_id, \'ARCHIVE\', item.elem, item, last_item);\n          });\n        }\n      }, "\\u0420\\u0430\\u0437\\u0430\\u0440\\u0445\\u0438\\u0432\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          if (confirm(\'Вы действительно хотите провести удаление?\')) {\n            _this3.do_active_phrases(function (item, last_item) {\n              return onDoPhrase(item.id, item.word_index, item.j, item.head_id, item.action || \'DELETE\', item.elem, item, last_item);\n            });\n          }\n        }\n      }, "\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__item"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__archive-selector"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "\\u041F\\u043E\\u043A\\u0430\\u0437\\u044B\\u0432\\u0430\\u0442\\u044C \\u0430\\u0440\\u0445\\u0438\\u0432\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0444\\u0440\\u0430\\u0437\\u044B"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {\n        defaultChecked: this.state.archive_view,\n        type: "checkbox",\n        onChange: function onChange() {\n          return _this3.setState(function (prevState) {\n            return {\n              archive_view: !prevState.archive_view\n            };\n          });\n        }\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__item lemma__table__item__search"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        className: "lemma__table__search__icon"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("i", {\n        className: "material-icons"\n      }, "search")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_global_components_layout_ToolTip_ToolTip__WEBPACK_IMPORTED_MODULE_3__["default"], {\n        info: \'Check\',\n        icon: \'more_horiz\'\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {\n        placeholder: \'Введите слово\',\n        type: "search",\n        onInput: onSearch\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__item lemma__table__item__clear"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        className: "btn-new btn-new--grey",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.onSorting(null, true);\n        }\n      }, "\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__table__middle"\n      }, book_path ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: _config_API__WEBPACK_IMPORTED_MODULE_4__["default"].host + book_path.replace(\'public\', \'\'),\n        target: "_blank",\n        className: "btn-new btn-new--green"\n      }, "\\u041F\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u043A\\u043D\\u0438\\u0433\\u0443")) : \'\'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma-table-component"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("table", {\n        id: table_id,\n        className: "table lemma-table"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "\\u0412\\u0441\\u0435"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {\n        type: "checkbox",\n        className: "lemma__table__checkbox",\n        id: "lemma_all_phrases",\n        checked: this.getAllCheckedValue(slice_data, from_slice * default_slice_value),\n        onChange: function onChange(e) {\n          var is_checked = e.target.checked;\n          var active_phrases = {};\n\n          // Если активных нет\n          if (is_checked) {\n            slice_data.forEach(function (item, i) {\n              var word_index = i + from_slice * default_slice_value;\n              var id_active_word = "".concat(id, "|").concat(word_index, "|").concat(i, "|").concat(item.head_id);\n              active_phrases[id_active_word] = {\n                id_active_phrase: id_active_word,\n                id: id,\n                word_index: word_index,\n                j: 0,\n                head_id: item.head_id,\n                action: \'DELETE_WORD\',\n                elem: \'WORD\'\n              };\n            });\n          } else {\n            active_phrases = {};\n          }\n          _this3.setState(function () {\n            return {\n              active_phrases: active_phrases,\n              all_checked: is_checked\n            };\n          });\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", {\n        htmlFor: "lemma_all_phrases"\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", {\n        className: "thead__item--bordered"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "\\u0421\\u043B\\u043E\\u0432\\u0430"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.onSorting(\'word\');\n        },\n        className: "sort__item"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("i", {\n        className: "material-icons"\n      }, "sort"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", {\n        className: "thead__item--bordered"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u044B"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.onSorting(\'repeating\');\n        },\n        className: "sort__item"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("i", {\n        className: "material-icons"\n      }, "sort"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null, "\\u0424\\u0440\\u0430\\u0437\\u044B"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.onSorting(\'phrases.selected\');\n        },\n        className: "sort__item"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("i", {\n        className: "material-icons"\n      }, "sort"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody", null, data.length ? slice_data.map(function (item, i) {\n        var ws_class = item.phrases.filter(function (phr) {\n          return phr.selected == true;\n        }).length ? \'lemma__word--selected\' : \'\';\n        var archived_cls = item.phrases.filter(function (phr) {\n          return phr.archived == true;\n        }).length || item.archived ? \'lemma-archived\' : \'\';\n        var word_index = i + from_slice * default_slice_value;\n        var id_active_word = "".concat(id, "|").concat(word_index, "|").concat(i, "|").concat(item.head_id);\n        // Проверка, выбран элемен или нет\n        var is_checked = _this3.state.active_phrases[id_active_word];\n\n        // Если фраз нету в слове - удаляем слово\n        if (!item.phrases.length) {\n          onDoPhrase(id, word_index, 0, item.head_id, \'DELETE_WORD\');\n        }\n\n        // Если нет просмотра архивации, но фраза архивирована - пустое значение\n        if (!_this3.state.archive_view && item.archived) return \'\';\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr", {\n          key: i,\n          className: "".concat(archived_cls)\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {\n          className: "lemma__table__checkbox",\n          checked: is_checked,\n          id: \'word_\' + id_active_word,\n          "data-id": \'word_\' + id_active_word,\n          type: "checkbox",\n          onChange: function onChange(e) {\n            if (!e.target.checked) {\n              var new_st = _this3.state.active_phrases;\n              delete new_st[id_active_word];\n              _this3.setState(function () {\n                return {\n                  active_phrases: new_st,\n                  all_checked: false\n                };\n              });\n            } else {\n              _this3.setState(function (prevState) {\n                return {\n                  active_phrases: _objectSpread(_objectSpread({}, prevState.active_phrases), {}, _defineProperty({}, id_active_word, {\n                    id_active_phrase: id_active_word,\n                    id: id,\n                    word_index: word_index,\n                    j: 0,\n                    head_id: item.head_id,\n                    action: \'DELETE_WORD\',\n                    elem: \'WORD\'\n                  })),\n                  all_checked: false\n                };\n              });\n            }\n          }\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", {\n          htmlFor: \'word_\' + id_active_word\n        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", {\n          className: "lemma__word ".concat(ws_class)\n        }, item.word), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, item.repeating), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", {\n          style: {\n            zIndex: slice_data.length - i,\n            position: \'relative\'\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_slick__WEBPACK_IMPORTED_MODULE_2__["default"], {\n          fade: true,\n          arrows: true,\n          slidesToShow: 1,\n          infinite: false\n        }, item.phrases.sort(function (a, b) {\n          return b.selected - a.selected;\n        }).map(function (phrase, j) {\n          var active_class = phrase.selected ? \'lemma__phrase--active\' : \'\';\n          var _phr = phrase.phrase;\n          var id_active_phrase = "".concat(id, "|").concat(word_index, "|").concat(j, "|").concat(item.head_id);\n\n          // Если НЕ идет просмотр архивов и фраза архивирована \n          if (!_this3.state.archive_view && phrase.archived) return \'\';\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            key: j,\n            className: "lemma__table__cell"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            className: "lemma__table__cell__top"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", {\n            onClick: function onClick() {\n              // Если слово уже закреплено за словом в курсе, то редактируем его\n              onSetActive(id, word_index, j, item.head_id);\n            },\n            className: "lemma-item lemma__table__phrase ".concat(active_class)\n          }, _phr.trim())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            className: "lemma__table__cell__bottom"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            className: "lemma__table__cell__checkbox"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("label", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", {\n            type: "checkbox",\n            "data-id": \'phr_\' + id_active_phrase,\n            onChange: function onChange() {\n              return _this3.setState(function (prevState) {\n                return {\n                  active_phrases: _objectSpread(_objectSpread({}, prevState.active_phrases), {}, _defineProperty({}, id_active_phrase, {\n                    id_active_phrase: id_active_phrase,\n                    id: id,\n                    word_index: word_index,\n                    j: j,\n                    head_id: item.head_id,\n                    elem: \'PHRASE\'\n                  }))\n                };\n              }, function () {\n                var is_checked = $("[data-id=\\"phr_".concat(id_active_phrase, "\\"")).is(\':checked\');\n                if (!is_checked) {\n                  var new_st = _this3.state.active_phrases;\n                  delete new_st[id_active_phrase];\n                  _this3.setState(function () {\n                    return {\n                      active_phrases: new_st\n                    };\n                  });\n                }\n              });\n            }\n          }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            className: "lemma__phrases-selector mr-3"\n          }, "\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("i", {\n            className: "material-icons"\n          }, "expand_more"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            className: "lemma__phr-control__btns"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n            href: "",\n            onClick: function onClick(e) {\n              e.preventDefault();\n              (0,_functions__WEBPACK_IMPORTED_MODULE_1__.showInpEdit)(_phr, function (data) {\n                onUpdatePhrase(id, word_index, j, item.head_id, data);\n              });\n            }\n          }, "\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u0435\\u043A\\u0441\\u0442"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n            href: "",\n            onClick: function onClick(e) {\n              e.preventDefault();\n              var total_phrase = _this3.props.phrase.replace(_phr, "<b class=\\"lemma-m-text__b\\">".concat(_phr, "</b>"));\n              var m_id = (0,uuid__WEBPACK_IMPORTED_MODULE_5__["default"])(),\n                m_id_html = "#".concat(m_id);\n              (0,_functions__WEBPACK_IMPORTED_MODULE_1__.openModal)(m_id, 0, "<p class=\\"lemma-m-text\\">".concat(total_phrase, "</p>"), function (inst) {\n                var elem_to_scroll = $("".concat(m_id_html, " .lemma-m-text__b"));\n                if (elem_to_scroll.length) {\n                  $(m_id_html).scrollTop(elem_to_scroll.offset().top - 200);\n                }\n              });\n            }\n          }, "\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432 \\u0442\\u0435\\u043A\\u0441\\u0442\\u0435"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n            href: "",\n            onClick: function onClick(e) {\n              e.preventDefault();\n              onDoPhrase(id, word_index, j, item.head_id, \'ARCHIVE\');\n            }\n          }, "\\u0410\\u0440\\u0445\\u0438\\u0432\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0444\\u0440\\u0430\\u0437\\u0443"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n            href: "",\n            onClick: function onClick(e) {\n              e.preventDefault();\n              if (confirm(\'Вы действительно хотите провести удаление?\')) {\n                onDoPhrase(id, word_index, j, item.head_id);\n              }\n            }\n          }, "\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0444\\u0440\\u0430\\u0437\\u0443"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n            onClick: function onClick() {\n              if (phrase.word_id) {\n                if (self.loadWord) self.loadWord(phrase.word_id);\n              }\n            },\n            className: "lemma__phrases-selector lemma__phrases-selector--green"\n          }, "\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \\u043A\\u0443\\u0440\\u0441\\u0435")));\n        }))));\n      }) : \'\')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__pagination__block lemma__phrases__pagination__block"\n      }, data.length >= 10 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "fingman__phrases__pagination"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.paginate(from_slice - 1 < 0 ? 0 : from_slice - 1);\n        },\n        className: "pagination__item pagination__prev"\n      }, "<"), showPagination(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          _this3.paginate(from_slice + 1 > COUNT_SYMB_PAG ? from_slice : from_slice + 1);\n        },\n        className: "pagination__item pagination__next"\n      }, ">")) : \'\', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {\n        className: "lemma__delete"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "",\n        className: "btn-new btn-new--grey mr-3",\n        onClick: function onClick(e) {\n          e.preventDefault();\n          onDeleteLemma(id, data[0].head_id);\n        }\n      }, "\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u0443"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", {\n        href: "#top",\n        className: "top-btn"\n      }, "\\u2191"))));\n    }\n  }]);\n  return LemmaTableComponent;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component);\n\n\n//# sourceURL=webpack://client/./src/admin/components/lemma/LemmaTableComponent.js?')}},(function(e){e.h=()=>"e20a8fb4624f31a3f943"}));